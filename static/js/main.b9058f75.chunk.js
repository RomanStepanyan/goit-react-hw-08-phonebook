(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[1],{10:function(n,t,e){"use strict";e.d(t,"i",(function(){return i})),e.d(t,"j",(function(){return a})),e.d(t,"h",(function(){return s})),e.d(t,"c",(function(){return d})),e.d(t,"d",(function(){return f})),e.d(t,"b",(function(){return l})),e.d(t,"f",(function(){return b})),e.d(t,"g",(function(){return O})),e.d(t,"e",(function(){return j}));var c=e(3),o=Object(c.d)({name:"user",initialState:{name:"",email:"",token:"",isLoggedOn:!1,isLoading:!1,error:""},reducers:{onSignUpRequest:function(n){n.isLoading=!0},onSignUpSuccess:function(n,t){var e=t.payload;n.name=e.user.name,n.email=e.user.email,n.token=e.token,n.isLoggedOn=!0},onSignUpFailure:function(n,t){var e=t.payload;n.error=e.message,n.isLoggedOn=!1,n.isLoading=!1},onLoginRequest:function(n){n.isLoading=!0},onLoginSuccess:function(n,t){var e=t.payload;n.name=e.user.name,n.email=e.user.email,n.token=e.token,n.isLoggedOn=!0,n.isLoading=!1},onLoginFailure:function(n,t){var e=t.payload;n.error=e.message,n.isLoggedOn=!1,n.isLoading=!1},onLogoutRequest:function(n){n.isLoading=!0},onLogoutSuccess:function(n,t){t.payload;n.name="",n.email="",n.token="",n.isLoading=!1,n.isLoggedOn=!1},onLogoutFailure:function(n,t){var e=t.payload;n.error=e.message,n.isLoading=!1},onGetUser:function(n,t){var e=t.payload;n.name=e.user.name,n.email=e.user.email,n.isLoggedOn=!0,n.isLoading=!1}}}),r=o.actions,u=o.reducer,i=r.onSignUpRequest,a=r.onSignUpSuccess,s=r.onSignUpFailure,d=(r.onLogout,r.onGetUser,r.onLoginRequest),f=r.onLoginSuccess,l=r.onLoginFailure,b=r.onLogoutRequest,O=r.onLogoutSuccess,j=r.onLogoutFailure;console.log(r),t.a=u},12:function(n,t,e){"use strict";e.d(t,"j",(function(){return o})),e.d(t,"h",(function(){return r})),e.d(t,"i",(function(){return u})),e.d(t,"g",(function(){return i})),e.d(t,"b",(function(){return a})),e.d(t,"c",(function(){return s})),e.d(t,"a",(function(){return d})),e.d(t,"e",(function(){return f})),e.d(t,"f",(function(){return l})),e.d(t,"d",(function(){return b}));var c=e(3),o=(Object(c.b)("ADD_CONTACT",(function(n){return{payload:{name:n.name,number:n.number}}})),Object(c.b)("DELETE_CONTACT"),Object(c.b)("FILTER_CONTACT")),r=Object(c.b)("GET_CONTACTS_REQUEST"),u=Object(c.b)("GET_CONTACTS_SUCCESS"),i=Object(c.b)("GET_CONTACTS_FAILURE"),a=Object(c.b)("ADD_CONTACTS_REQUEST"),s=Object(c.b)("ADD_CONTACTS_SUCCESS"),d=Object(c.b)("ADD_CONTACTS_FAILURE"),f=Object(c.b)("DELETE_CONTACTS_REQUEST"),l=Object(c.b)("DELETE_CONTACTS_SUCCESS"),b=Object(c.b)("DELETE_CONTACTS_FAILURE")},28:function(n,t,e){"use strict";e.d(t,"c",(function(){return c})),e.d(t,"a",(function(){return o})),e.d(t,"b",(function(){return r}));var c=function(n){return function(t){var e;return null===(e=n.contacts.items)||void 0===e?void 0:e.find((function(n){return n.name===t}))}},o=function(n){return n.user.isLoggedOn},r=function(n){return n.user.name}},29:function(n,t,e){"use strict";e.d(t,"c",(function(){return a})),e.d(t,"a",(function(){return s})),e.d(t,"b",(function(){return d})),e.d(t,"f",(function(){return f})),e.d(t,"d",(function(){return l})),e.d(t,"e",(function(){return b}));var c=e(43),o=e.n(c).a.create({baseURL:"https://connections-api.herokuapp.com"});o.interceptors.request.use((function(n){var t=localStorage.getItem("token");return n.headers.Authorization=t?"Bearer ".concat(t):"",n}));var r=o,u=e(12),i=e(10),a=function(){return function(n,t){n(u.h()),r.get("/contacts").then((function(t){var e=t.data;n(u.i(e))})).catch((function(t){return n(u.g(t.message))}))}},s=function(n){return function(t,e){t(u.b()),r.post("/contacts",n).then((function(n){var e=n.data;t(u.c(e))})).catch((function(n){return t(u.a(n.message))}))}},d=function(n){return function(t,e){t(u.e()),r.delete("/contacts/".concat(n)).then((function(){t(u.f(n))})).catch((function(n){return t(u.d(n.message))}))}},f=function(n){return function(t,e){t(Object(i.i)()),r.post("/users/signup",n).then((function(n){var e=n.data;localStorage.setItem("token",e.token),t(Object(i.j)(e))})).catch((function(n){t(Object(i.h)(n.message))}))}},l=function(n){return function(t,e){t(Object(i.c)()),r.post("/users/login",n).then((function(n){var e=n.data;localStorage.setItem("token",e.token),t(Object(i.d)(e))})).catch((function(n){t(Object(i.b)(n.message))}))}},b=function(n){return function(t,e){t(Object(i.f)()),r.post("/users/logout",n).then((function(){localStorage.removeItem("token"),t(Object(i.g)())})).catch((function(n){return t(Object(i.e)(n.message))}))}}},55:function(n,t,e){},75:function(n,t,e){"use strict";e.r(t);var c=e(2),o=e(0),r=e.n(o),u=e(18),i=e.n(u),a=e(22),s=e(15),d=e(40),f=e(20),l=e(3),b=e(5),O=e(13),j=e(41),g=e.n(j),T=e(42),S=e.n(T),C=!1,h=[],L="",E=Object(l.c)(L,{GET_CONTACTS_FAILURE:function(n,t){return t.payload},ADD_CONTACTS_FAILURE:function(n,t){return t.payload}}),m=Object(l.c)(C,{GET_CONTACTS_REQUEST:function(){return!0},GET_CONTACTS_SUCCESS:function(){return!1},GET_CONTACTS_FAILURE:function(){return!1}}),p=Object(l.c)(h,{GET_CONTACTS_SUCCESS:function(n,t){return t.payload},ADD_CONTACT_SUCCESS:function(n,t){var e=t.payload;return[].concat(Object(f.a)(n),[e])},DELETE_CONTACTS_SUCCESS:function(n,t){var e=t.payload;return n.filter((function(n){return n.id!==e}))}}),_=Object(l.c)("",{FILTER_CONTACT:function(n,t){return t.payload}}),A=Object(b.c)({isLoading:m,items:p,filter:_,error:E}),v=e(10);console.log(v.a.state);var U=[].concat(Object(f.a)(Object(l.e)({serializableCheck:{ignoredActions:[O.a,O.f,O.b,O.c,O.d,O.e]}})),[S.a]),x={key:"user",storage:g.a,whitelist:["token"]},y=Object(b.c)({contacts:A,user:v.a}),k=Object(O.g)(x,y),N=Object(l.a)({reducer:k,middleware:U,devTools:!1}),F=Object(O.h)(N),R=(e(55),e(4)),D=e(28),I=e(29),z=Object(o.lazy)((function(){return e.e(10).then(e.bind(null,94))})),G=Object(o.lazy)((function(){return Promise.all([e.e(0),e.e(7)]).then(e.bind(null,122))})),q=Object(o.lazy)((function(){return e.e(9).then(e.bind(null,126))})),w=Object(o.lazy)((function(){return e.e(8).then(e.bind(null,127))})),P=Object(o.lazy)((function(){return e.e(11).then(e.bind(null,128))})),Q=Object(o.lazy)((function(){return e.e(12).then(e.bind(null,129))})),B=Object(o.lazy)((function(){return Promise.all([e.e(0),e.e(5),e.e(4)]).then(e.bind(null,138))})),J=Object(o.lazy)((function(){return Promise.all([e.e(0),e.e(6)]).then(e.bind(null,133))})),M=function(){var n=Object(s.d)(D.a);console.log(n);var t=Object(s.c)();return Object(o.useEffect)((function(){return t(Object(I.c)())})),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(o.Suspense,{fallback:Object(c.jsx)("div",{children:"Loading..."}),children:[Object(c.jsx)(B,{}),Object(c.jsxs)(R.d,{children:[Object(c.jsx)(Q,{path:"/",exact:!0,children:Object(c.jsx)(B,{})}),Object(c.jsx)(Q,{path:"/login",exact:!0,restricted:!0,children:Object(c.jsx)(q,{})}),Object(c.jsx)(Q,{path:"/register",restricted:!0,children:Object(c.jsx)(w,{})}),Object(c.jsx)(P,{path:"/contacts",children:Object(c.jsx)(J,{})}),Object(c.jsx)(P,{path:"/contactsList",children:Object(c.jsx)(z,{})}),Object(c.jsx)(P,{path:"/filterContacts",children:Object(c.jsx)(G,{})})]})]})})},H=function(n){n&&n instanceof Function&&e.e(13).then(e.bind(null,134)).then((function(t){var e=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,u=t.getTTFB;e(n),c(n),o(n),r(n),u(n)}))};console.log(N.getState()),i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(s.a,{store:N,children:Object(c.jsx)(d.a,{loading:null,persistor:F,children:Object(c.jsx)(a.a,{children:Object(c.jsx)(M,{})})})})}),document.getElementById("root")),H()}},[[75,2,3]]]);
//# sourceMappingURL=main.b9058f75.chunk.js.map