(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{14:function(e,t,n){e.exports={contact:"ContactsList_contact__1D6B_",contact_span:"ContactsList_contact_span__1BvaR"}},25:function(e,t,n){e.exports={form:"ContactForm_form__8H6s0"}},40:function(e,t,n){e.exports={input:"FilterContacts_input__Pii4G"}},41:function(e,t,n){e.exports={container:"App_container__Rvcc2",title:"App_title__1lB4p"}},5:function(e,t,n){e.exports={form:"User_form__23hEo",label:"User_label__3n0Q_",button:"User_button__3TYLM",title:"User_title__3a1xo"}},54:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),o=n.n(c),r=n(17),s=n.n(r),i=n(42),u=n(4),l=n(37),b=n(20),j=n(3),d=n(6),p=n(12),O=n(38),m=n.n(O),f=n(39),g=n.n(f),h=!1,C=[],_="",v=Object(j.c)(_,{GET_CONTACTS_FAILURE:function(e,t){return t.payload},ADD_CONTACTS_FAILURE:function(e,t){return t.payload}}),S=Object(j.c)(h,{GET_CONTACTS_REQUEST:function(){return!0},GET_CONTACTS_SUCCESS:function(){return!1},GET_CONTACTS_FAILURE:function(){return!1}}),T=Object(j.c)(C,{GET_CONTACTS_SUCCESS:function(e,t){return t.payload},ADD_CONTACT_SUCCESS:function(e,t){var n=t.payload;return[].concat(Object(b.a)(e),[n])},DELETE_CONTACTS_SUCCESS:function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))}}),x=Object(j.c)("",{FILTER_CONTACT:function(e,t){return t.payload}}),L=Object(d.c)({isLoading:S,items:T,filter:x,error:v}),E=Object(j.d)({name:"user",initialState:{name:"",email:"",token:"",isLoggedOn:!1,isLoading:!1,error:""},reducers:{onSignUpRequest:function(e){e.isLoading=!0},onSignUpSuccess:function(e,t){var n=t.payload;e.name=n.user.name,e.email=n.user.email,e.token=n.token,e.isLoggedOn=!0},onSignUpFailure:function(e,t){var n=t.payload;e.error=n.message,e.isLoggedOn=!1,e.isLoading=!1},onLoginRequest:function(e){e.isLoading=!0},onLoginSuccess:function(e,t){var n=t.payload;e.name=n.user.name,e.email=n.user.email,e.token=n.token,e.isLoggedOn=!0,e.isLoading=!1},onLoginFailure:function(e,t){var n=t.payload;e.error=n.message,e.isLoggedOn=!1,e.isLoading=!1},onLogoutRequest:function(e){e.isLoading=!0},onLogoutSuccess:function(e,t){t.payload;e.name="",e.email="",e.token="",e.isLoading=!1,e.isLoggedOn=!1},onLogoutFailure:function(e,t){var n=t.payload;e.error=n.message,e.isLoading=!1},onGetUser:function(e,t){var n=t.payload;e.name=n.user.name,e.email=n.user.email,e.isLoggedOn=!0,e.isLoading=!1}}}),N=E.actions,A=E.reducer,y=N.onSignUpRequest,U=N.onSignUpSuccess,k=N.onSignUpFailure,D=(N.onLogout,N.onGetUser,N.onLoginRequest),R=N.onLoginSuccess,F=N.onLoginFailure,w=N.onLogoutRequest,I=N.onLogoutSuccess,G=N.onLogoutFailure;console.log(N);var q=A;console.log(q.state);var z=[].concat(Object(b.a)(Object(j.e)({serializableCheck:{ignoredActions:[p.a,p.f,p.b,p.c,p.d,p.e]}})),[g.a]),B={key:"contacts",storage:m.a,blacklist:["filter"]},P=Object(d.c)({contacts:L,user:q}),Q=Object(p.g)(B,P),J=Object(j.a)({reducer:Q,middleware:z,devTools:!1}),M=Object(p.h)(J),Z=(n(54),n(11)),H=n.n(Z),Y=(Object(j.b)("ADD_CONTACT",(function(e){return{payload:{name:e.name,number:e.number}}})),Object(j.b)("DELETE_CONTACT"),Object(j.b)("FILTER_CONTACT")),$=Object(j.b)("GET_CONTACTS_REQUEST"),K=Object(j.b)("GET_CONTACTS_SUCCESS"),V=Object(j.b)("GET_CONTACTS_FAILURE"),W=Object(j.b)("ADD_CONTACTS_REQUEST"),X=Object(j.b)("ADD_CONTACTS_SUCCESS"),ee=Object(j.b)("ADD_CONTACTS_FAILURE"),te=Object(j.b)("DELETE_CONTACTS_REQUEST"),ne=Object(j.b)("DELETE_CONTACTS_SUCCESS"),ae=Object(j.b)("DELETE_CONTACTS_FAILURE"),ce=function(e){H.a.defaults.headers.common.Authorization="Bearer ".concat(e)},oe=function(){H.a.defaults.headers.common.Authorization=""},re=function(){return function(e,t){e($()),H.a.get("https://connections-api.herokuapp.com/contacts").then((function(t){var n=t.data;ce(n.token),console.log(n),e(K(n))})).catch((function(t){return e(V(t.message))}))}},se=function(e){return function(t){var n;return null===(n=e.contacts.items)||void 0===n?void 0:n.find((function(e){return e.name===t}))}},ie=function(e){return e.user.isLoggedOn},ue=function(e){return e.user.name},le=n(10),be=n(25),je=n.n(be),de=Object(u.b)()((function(){var e=Object(u.c)(),t=Object(c.useState)(""),n=Object(le.a)(t,2),o=n[0],r=n[1],s=Object(c.useState)(""),i=Object(le.a)(s,2),l=i[0],b=i[1],j=Object(u.d)(se);return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{className:je.a.title,children:"Contact form"}),Object(a.jsxs)("form",{className:je.a.form,onSubmit:function(t){if(t.preventDefault(),j(o))return alert("Contact is already exist"),null;var n;e((n={name:o,number:l},function(e,t){e(W()),H.a.post("https://connections-api.herokuapp.com/contacts",n).then((function(t){var n=t.data;ce(n.token),e(X(n))})).catch((function(t){return e(ee(t.message))}))})),e(re()),b(""),r("")},children:[Object(a.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0,placeholder:"Enter name",value:o,onChange:function(e){var t=e.target;r(t.value)}}),Object(a.jsx)("input",{type:"tel",name:"number",pattern:"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 11-12 \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440\u044b, \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043f\u0443\u0437\u0430\u0442\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0,placeholder:"Enter phone number",value:l,onChange:function(e){var t=e.target;b(t.value)}}),Object(a.jsx)("button",{type:"submit",children:"Add contact"})]})]})})),pe=n(14),Oe=n.n(pe),me=function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))},fe=Object(u.b)((function(e){var t=e.contacts,n=t.items,a=t.filter;return{items:me(n,a)}}))((function(e){var t=e.items,n=(e.onRemove,Object(u.c)());return 0===t.length?null:Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{className:Oe.a.title,children:"Contact list"}),Object(a.jsx)("ul",{children:t.map((function(e){return Object(a.jsxs)("li",{className:Oe.a.contact,children:[Object(a.jsx)("span",{className:Oe.a.contact_span,children:e.name})," ",Object(a.jsx)("span",{className:Oe.a.contact_span,children:e.number}),Object(a.jsx)("button",{className:Oe.a.button,onClick:function(){return n((t=e.id,function(e,n){e(te()),H.a.delete("https://connections-api.herokuapp.com/contacts/".concat(t)).then((function(){e(ne(t))})).catch((function(t){return e(ae(t.message))}))}));var t},children:"Delete"})]},e.id)}))})]})})),ge=n(40),he=n.n(ge),Ce=Object(u.b)((function(e){return{filter:e.contacts.filter}}),(function(e){return{onChange:function(t){var n=t.target;return e(Y(n.value))}}}))((function(e){var t=e.filter,n=e.onChange;return Object(a.jsx)("input",{className:he.a.input,type:"text",name:"filter",value:t,onChange:n,placeholder:"Search contact"})})),_e=n(5),ve=n.n(_e),Se=function(){var e=Object(c.useState)(""),t=Object(le.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)(""),s=Object(le.a)(r,2),i=s[0],l=s[1],b=Object(u.c)(),j=Object(u.d)((function(e){return e.user.isLoading}));console.log(j);return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{className:ve.a.title,children:"Please login"}),Object(a.jsxs)("form",{type:"submit",className:ve.a.form,onSubmit:function(e){var t;e.preventDefault(),b((t={email:n,password:i},function(e,n){e(D()),H.a.post("https://connections-api.herokuapp.com/users/login",t).then((function(t){var n=t.data;e(R(n)),ce(n.token)})).catch((function(t){console.log(t.message),e(F(t.message))}))})),o(""),l("")},children:[Object(a.jsxs)("label",{className:ve.a.label,children:[Object(a.jsx)("span",{children:"email"}),Object(a.jsx)("input",{type:"email",className:ve.a.input,placeholder:"Input your email",value:n,onChange:function(e){var t=e.target;return o(t.value)}})]}),Object(a.jsxs)("label",{className:ve.a.label,children:[Object(a.jsx)("span",{children:"password"}),Object(a.jsx)("input",{type:"password",className:ve.a.input,placeholder:"Input your password",value:i,onChange:function(e){var t=e.target;return l(t.value)}})]}),Object(a.jsx)("button",{type:"submit",className:ve.a.button,children:"Login"})]})]})},Te=function(){var e=Object(u.c)(),t=Object(c.useState)(""),n=Object(le.a)(t,2),o=n[0],r=n[1],s=Object(c.useState)(""),i=Object(le.a)(s,2),l=i[0],b=i[1],j=Object(c.useState)(""),d=Object(le.a)(j,2),p=d[0],O=d[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{className:ve.a.title,children:"Please sign up"}),Object(a.jsxs)("form",{type:"submit",className:ve.a.form,onSubmit:function(t){var n;t.preventDefault(),e((n={name:o,email:l,password:p},function(e,t){e(y()),H.a.post("https://connections-api.herokuapp.com/users/signup",n).then((function(t){var n=t.data;ce(n.token),e(U(n))})).catch((function(t){console.log(t.message),e(k(t.message))}))})),r(""),b(""),O("")},children:[Object(a.jsxs)("label",{className:ve.a.label,children:[Object(a.jsx)("span",{children:"name"}),Object(a.jsx)("input",{type:"text",className:ve.a.input,placeholder:"Input your name",value:o,onChange:function(e){var t=e.target;return r(t.value)}})]}),Object(a.jsxs)("label",{className:ve.a.label,children:[Object(a.jsx)("span",{children:"email"}),Object(a.jsx)("input",{type:"email",className:ve.a.input,placeholder:"Input your email",value:l,onChange:function(e){var t=e.target;return b(t.value)}})]}),Object(a.jsxs)("label",{className:ve.a.label,children:[Object(a.jsx)("span",{children:"password"}),Object(a.jsx)("input",{type:"password",className:ve.a.input,placeholder:"Input your password",value:p,onChange:function(e){var t=e.target;return O(t.value)}})]}),Object(a.jsx)("button",{type:"submit",className:ve.a.button,children:"Sign up"})]})]})},xe=function(){var e=Object(u.c)(),t=Object(u.d)(ue);return Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{children:["Hello ",t]}),Object(a.jsx)("button",{type:"button",onClick:function(){return e((function(e,n){e(w()),H.a.post("https://connections-api.herokuapp.com/users/logout",t).then((function(){e(I()),oe()})).catch((function(t){return e(G(t.message))}))}));var t},children:"Logout"})]})},Le=n(41),Ee=n.n(Le),Ne=function(){Object(u.d)(ie);var e=Object(u.c)();Object(c.useEffect)((function(){return e(re())}),[e]);return Object(a.jsxs)("div",{className:Ee.a.container,children:[[Object(a.jsx)(xe,{}),Object(a.jsx)(de,{}),Object(a.jsx)(Ce,{}),Object(a.jsx)(fe,{})]," ",[Object(a.jsx)(Te,{}),Object(a.jsx)(Se,{})]]})},Ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))};console.log(J.getState()),s.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(u.a,{store:J,children:Object(a.jsx)(l.a,{loading:null,persistor:M,children:Object(a.jsx)(i.a,{children:Object(a.jsx)(Ne,{})})})})}),document.getElementById("root")),Ae()}},[[74,1,2]]]);
//# sourceMappingURL=main.d0c49e84.chunk.js.map